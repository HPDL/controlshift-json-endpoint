{"version":3,"file":"index.umd.js","sources":["../lib/index.js"],"sourcesContent":["import axios from 'axios'\r\nimport jsonpAdapter from 'axios-jsonp'\r\n\r\n\r\nlet instance\r\n\r\n\r\nconst petition = (slug) => {\r\n\tconst ep = `petitions/${slug}.json`\r\n\treturn instance.get(ep)\r\n}\r\n\r\n\r\nconst featuredPetitions = () => {\r\n\tconst ep = `petitions/featured.json`\r\n\treturn instance.get(ep)\r\n}\r\n\r\n\r\nconst categories = () => {\r\n\tconst ep = 'categories.json'\r\n\treturn instance.get(ep)\r\n}\r\n\r\n\r\nconst category = (slug, page = 1) => {\r\n\tconst ep = `categories/${slug}.json`\r\n\r\n\tpage = parseInt(page, 10)\r\n\tif (isNaN(page) || page < 1) {\r\n\t\tpage = 1\r\n\t}\r\n\r\n\tconst params = {\r\n\t\tpage\r\n\t}\r\n\r\n\treturn instance.get(ep, {\r\n\t\tparams\r\n\t})\r\n}\r\n\r\n\r\nconst partnerships = (slug, page = 0) => {\r\n\tconst ep = '/partnerships/${slug}/petitions.json'\r\n\r\n\tpage = parseInt(page, 10)\r\n\tif (isNaN(page) || page < 1) {\r\n\t\tpage = 1\r\n\t}\r\n\r\n\tconst params = {\r\n\t\tpage\r\n\t}\r\n\r\n\treturn instance.get(ep, {\r\n\t\tparams\r\n\t})\r\n}\r\n\r\n\r\nconst efforts = (slug, page = 1) => {\r\n\tconst ep = `efforts/${slug}.json`\r\n\tpage = parseInt(page, 10)\r\n\tif (isNaN(page) || page < 1) {\r\n\t\tpage = 1\r\n\t}\r\n\r\n\tconst params = {\r\n\t\tpage\r\n\t}\r\n\r\n\treturn instance.get(ep, {\r\n\t\tparams\r\n\t})\r\n}\r\n\r\n\r\nconst search = (slug, location_query, query) => {\r\n\tconst ep = `efforts/${slug}/lookup/query.json`\r\n\r\n\tconst params = {}\r\n\r\n\tif (location_query) params.location_query = location_query\r\n\tif (query) params.query = query\r\n\r\n\treturn instance.get(ep, {\r\n\t\tparams\r\n\t})\r\n}\r\n\r\n\r\nconst calendar = (slug) => {\r\n\tconst ep = `calendars/${slug}.json`\r\n\treturn instance.get(ep)\r\n}\r\n\r\n\r\nconst locations = () => {\r\n\tconst ep = `api/local/points.json`\r\n\treturn instance.get(ep)\r\n}\r\n\r\n\r\nconst locationDetails = (page = 1, per_page = 10) => {\r\n\tconst ep = `api/local.json`\r\n\r\n\tpage = parseInt(page, 10)\r\n\tper_page = parseInt(per_page, 10)\r\n\r\n\tconst params = {}\r\n\tif (page) params.page = page\r\n\tif (per_page) params.per_page = per_page\r\n\r\n\treturn instance.get(ep, {\r\n\t\tparams\r\n\t})\r\n}\r\n\r\n\r\nconst init = (domain) => {\r\n\r\n\tinstance = axios.create({\r\n\t\ttimeout: 1000,\r\n\t\tadapter: jsonpAdapter,\r\n\t\tcallbackParamName: 'callback'\r\n\t});\r\n\r\n\tinstance.interceptors.request.use( config => {\r\n\t\tconfig.url =  `https://${ domain }/${ config.url }`\r\n\t\treturn config\r\n\t})\r\n\r\n\tinstance.interceptors.response.use( response => {\r\n\t\tif (response.status === 200)\r\n\t\t\treturn response.data\r\n\r\n\t\treturn response\r\n\t})\r\n\r\n\treturn methods\r\n}\r\n\r\n\r\nconst methods = {\r\n\tcalendar,\r\n\tcategories,\r\n\tcategory,\r\n\tefforts,\r\n\tfeaturedPetitions,\r\n\tlocations,\r\n\tlocationDetails,\r\n\tpartnerships,\r\n\tpetition,\r\n\tsearch,\r\n}\r\n\r\nexport default init\r\n\r\n"],"names":["let","instance","const","methods","slug","get","page","ep","parseInt","isNaN","per_page","params","location_query","query","domain","axios","create","timeout","adapter","jsonpAdapter","callbackParamName","interceptors","request","use","config","url","response","status","data"],"mappings":"gRAIAA,IAAIC,4FAGJC,IAyIMC,EAAU,mBApDEC,UAEVH,EAASI,IADJ,aAAYD,yCAxEjBH,EAASI,IADL,sCAKMD,EAAME,kBAAO,OACxBC,EAAM,cAAaH,iBAEzBE,EAAOE,SAASF,EAAM,KAClBG,MAAMH,IAASA,EAAO,KACzBA,EAAO,GAODL,EAASI,IAAIE,EAAI,QAJT,MACdD,uBA2BeF,EAAME,kBAAO,OACvBC,EAAM,WAAUH,iBACtBE,EAAOE,SAASF,EAAM,KAClBG,MAAMH,IAASA,EAAO,KACzBA,EAAO,GAODL,EAASI,IAAIE,EAAI,QAJT,MACdD,0CAtDML,EAASI,IADJ,wDAsFLJ,EAASI,IADJ,mDAKYC,EAAUI,kBAAH,kBAAc,IAG7CJ,EAAOE,SAASF,EAAM,IACtBI,EAAWF,SAASE,EAAU,QAExBC,EAAS,UACXL,IAAMK,EAAOL,KAAOA,GACpBI,IAAUC,EAAOD,SAAWA,GAEzBT,EAASI,IATJ,iBASY,QACvBM,2BAxEoBP,EAAME,yBAAO,GAGlCA,EAAOE,SAASF,EAAM,KAClBG,MAAMH,IAASA,EAAO,KACzBA,EAAO,GAODL,EAASI,IAXL,uCAWa,QAJT,MACdC,wBA7CgBF,UAEVH,EAASI,IADJ,aAAYD,4BAsETA,EAAMQ,EAAgBC,OAC/BN,EAAM,WAAUH,uBAEhBO,EAAS,UAEXC,IAAgBD,EAAOC,eAAiBA,GACxCC,IAAOF,EAAOE,MAAQA,GAEnBZ,EAASI,IAAIE,EAAI,QACvBI,sBAiCYG,UAEbb,EAAWc,EAAMC,OAAO,CACvBC,QAAS,IACTC,QAASC,EACTC,kBAAmB,cAGXC,aAAaC,QAAQC,aAAKC,UAClCA,EAAOC,IAAQ,WAAWX,MAAYU,MAC/BA,IAGRvB,EAASoB,aAAaK,SAASH,aAAKG,UACX,MAApBA,EAASC,OACLD,EAASE,KAEVF,IAGDvB"}